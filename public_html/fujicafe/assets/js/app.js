const translations = {
  en: {
    menu: 'Menu',
    feedback: 'Feedback',
    contact: 'Contact Us',
    review: 'Review',
    subtitle: 'Artisan Coffee & Fresh Cuisine',
    all_items: 'All Items',
    search_placeholder: 'Search menu...',
    reviews_btn: 'Reviews',
    no_menu_items: 'No menu items available at the moment.',
    feedback_title: 'Feedback',
    feedback_desc: 'We value your feedback! Let us know how we can improve your experience.',
    your_name: 'Your Name',
    name_placeholder: 'Enter your name',
    email_address: 'Email Address',
    email_placeholder: 'your@email.com',
    your_feedback_label: 'Your Feedback',
    feedback_placeholder: 'Share your thoughts with us...',
    submit_feedback: 'Submit Feedback',
    contact_title: 'Contact Us',
    location: 'ğŸ“ Location',
    phone: 'ğŸ“ Phone',
    hours: 'â° Hours',
    hours_detail: 'Mon-Fri: 7:00 AM - 8:00 PM<br>Sat-Sun: 8:00 AM - 9:00 PM',
    email: 'âœ‰ï¸ Email',
    leave_review: 'Leave a Review',
    review_desc: 'Share your experience with us and help others discover great items!',
    review_instruction: 'Click the "Reviews" button on any menu item above to leave your feedback.',
    your_rating: 'Your Rating',
    your_name_optional: 'Your Name (optional)',
    anonymous: 'Anonymous',
    your_review: 'Your Review',
    review_placeholder: 'Share your experience...',
    submit_review: 'Submit Review'
  },
  am: {
    menu: 'áˆáŠ“áˆŒ',
    feedback: 'áŠ áˆµá‰°á‹«á‹¨á‰µ',
    contact: 'áŠ áŒáŠ™áŠ•',
    review: 'áŒáˆáŒˆáˆ›',
    subtitle: 'á‰£áˆˆáˆ™á‹« á‰¡áŠ“ áŠ¥áŠ“ á‰µáŠ©áˆµ áˆáŒá‰¥',
    all_items: 'áˆáˆ‰áˆ áˆáŒá‰¦á‰½',
    search_placeholder: 'áˆáŠ“áˆŒ áˆáˆáŒ...',
    reviews_btn: 'áŒáˆáŒˆáˆ›á‹á‰½',
    no_menu_items: 'á‰ áŠ áˆáŠ‘ áŒŠá‹œ áˆáŠ•áˆ á‹¨áˆáŠ“áˆŒ áˆáŒá‰¦á‰½ á‹¨áˆ‰áˆá¢',
    feedback_title: 'áŠ áˆµá‰°á‹«á‹¨á‰µ',
    feedback_desc: 'áŠ áˆµá‰°á‹«á‹¨á‰µá‹áŠ• áŠ¥áŠ“áŠ¨á‰¥áˆ«áˆˆáŠ•! á‰°áˆáŠ­áˆ®á‹áŠ• áŠ¥áŠ•á‹´á‰µ áˆ›áˆ»áˆ»áˆ áŠ¥áŠ•á‹°áˆáŠ•á‰½áˆ á‹«áˆ³á‹á‰áŠ•á¢',
    your_name: 'áˆµáˆá‹',
    name_placeholder: 'áˆµáˆá‹áŠ• á‹«áˆµáŒˆá‰¡',
    email_address: 'áŠ¢áˆœá‹­áˆ áŠ á‹µáˆ«áˆ»',
    email_placeholder: 'á‹¨áŠ¥áˆ­áˆµá‹@áŠ¢áˆœá‹­áˆ.com',
    your_feedback_label: 'áŠ áˆµá‰°á‹«á‹¨á‰µá‹',
    feedback_placeholder: 'áˆ€áˆ³á‰¥á‹áŠ• á‹«áŠ«ááˆ‰...',
    submit_feedback: 'áŠ áˆµá‰°á‹«á‹¨á‰µ á‹«áˆµáŒˆá‰¡',
    contact_title: 'áŠ áŒáŠ™áŠ•',
    location: 'ğŸ“ áŠ á‹µáˆ«áˆ»',
    phone: 'ğŸ“ áˆµáˆáŠ­',
    hours: 'â° á‹¨áˆµáˆ« áˆ°á‹“á‰µ',
    hours_detail: 'áˆ°áŠ-áŠ áˆ­á‰¥: 7:00 áŒ á‹‹á‰µ - 8:00 áˆáˆ½á‰µ<br>á‰…á‹³áˆœ-áŠ¥áˆ‘á‹µ: 8:00 áŒ á‹‹á‰µ - 9:00 áˆáˆ½á‰µ',
    email: 'âœ‰ï¸ áŠ¢áˆœá‹­áˆ',
    leave_review: 'áŒáˆáŒˆáˆ› á‹«áˆµáŒˆá‰¡',
    review_desc: 'á‰°áˆáŠ­áˆ®á‹áŠ• á‹«áŠ«ááˆ‰áŠ• áŠ¥áŠ“ áˆŒáˆá‰½ áˆáˆ­áŒ¥ áˆáŒá‰¦á‰½áŠ• áŠ¥áŠ•á‹²á‹«áŒˆáŠ™ á‹­áˆ­á‹±áŠ•!',
    review_instruction: 'áŠ áˆµá‰°á‹«á‹¨á‰µá‹áŠ• áˆˆáˆ˜á‰°á‹ áŠ¨áˆ‹á‹­ á‰ áˆ›áŠ•áŠ›á‹áˆ áˆáŠ“áˆŒ áˆ‹á‹­ "áŒáˆáŒˆáˆ›á‹á‰½" á‹¨áˆšáˆˆá‹áŠ• á‰áˆá á‹­áŒ«áŠ‘á¢',
    your_rating: 'á‹°áˆ¨áŒƒá‹',
    your_name_optional: 'áˆµáˆá‹ (áŠ áˆ›áˆ«áŒ­)',
    anonymous: 'áˆµáˆ áŠ áˆá‰£',
    your_review: 'áŒáˆáŒˆáˆ›á‹',
    review_placeholder: 'á‰°áˆáŠ­áˆ®á‹áŠ• á‹«áŠ«ááˆ‰...',
    submit_review: 'áŒáˆáŒˆáˆ› á‹«áˆµáŒˆá‰¡'
  }
};

let currentLang = localStorage.getItem('lang') || 'en';

window.switchLanguage = function(lang) {
  currentLang = lang;
  localStorage.setItem('lang', lang);
  
  const btnEn = document.getElementById('btnEn');
  const btnAm = document.getElementById('btnAm');
  if (btnEn && btnAm) {
    document.querySelectorAll('#btnEn, #btnAm').forEach(btn => btn.classList.remove('active'));
    (lang === 'en' ? btnEn : btnAm).classList.add('active');
  }
  
  document.querySelectorAll('[data-translate]').forEach(el => {
    const key = el.getAttribute('data-translate');
    if (translations[lang] && translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });
  
  document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
    const key = el.getAttribute('data-translate-placeholder');
    if (translations[lang] && translations[lang][key]) {
      el.placeholder = translations[lang][key];
    }
  });
  
  document.querySelectorAll('.cat-text').forEach(el => {
    const btn = el.closest('.pill');
    if (btn) {
      const text = lang === 'am' ? btn.getAttribute('data-cat-am') : btn.getAttribute('data-cat-en');
      if (text) el.textContent = text;
    }
  });
  
  document.querySelectorAll('.cat-title-text').forEach(el => {
    const parent = el.closest('.section-title');
    if (parent) {
      const text = lang === 'am' ? parent.getAttribute('data-cat-am') : parent.getAttribute('data-cat-en');
      if (text) el.textContent = text;
    }
  });
  
  document.querySelectorAll('.item-name-text').forEach(el => {
    const parent = el.closest('.card-title');
    if (parent) {
      const text = lang === 'am' ? parent.getAttribute('data-name-am') : parent.getAttribute('data-name-en');
      if (text) el.textContent = text;
    }
  });
  
  document.querySelectorAll('.item-desc-text').forEach(el => {
    const parent = el.closest('.card-desc');
    if (parent) {
      const text = lang === 'am' ? parent.getAttribute('data-desc-am') : parent.getAttribute('data-desc-en');
      if (text) el.textContent = text;
    }
  });
  
  document.querySelectorAll('.card').forEach(card => {
    const searchText = lang === 'am' ? card.getAttribute('data-item-am') : card.getAttribute('data-item-en');
    if (searchText) card.setAttribute('data-item', searchText);
  });
}

document.addEventListener('DOMContentLoaded', () => {
  window.switchLanguage(currentLang);
  
  const q = document.querySelector('[data-search]');
  if (q) {
    q.addEventListener('input', () => {
      const term = q.value.trim().toLowerCase();
      document.querySelectorAll('[data-item]').forEach(card => {
        const text = card.dataset.item.toLowerCase();
        card.style.display = text.includes(term) ? '' : 'none';
      });
    });
  }
  document.querySelectorAll('[data-cat]').forEach(btn => {
    btn.addEventListener('click', e => {
      e.preventDefault();
      const cat = btn.dataset.cat;
      document.querySelectorAll('[data-cat]').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      document.querySelectorAll('[data-catname]').forEach(el=>{
        el.style.display = (cat==='all' || el.dataset.catname===cat) ? '' : 'none';
      });
    });
  });
});
